!function(e){var t={};function o(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(r,s,function(t){return e[t]}.bind(null,s));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var r=function(e){var t={target:"confetti-holder",max:80,size:1,animate:!0,props:["circle","square","triangle","line"],colors:[[165,104,246],[230,61,135],[0,199,228],[253,214,126]],clock:25,interval:null,rotate:!1,width:window.innerWidth,height:window.innerHeight};e&&(e.target&&(t.target=e.target),e.max&&(t.max=e.max),e.size&&(t.size=e.size),void 0!==e.animate&&null!==e.animate&&(t.animate=e.animate),e.props&&(t.props=e.props),e.colors&&(t.colors=e.colors),e.clock&&(t.clock=e.clock),e.width&&(t.width=e.width),e.height&&(t.height=e.height),void 0!==e.rotate&&null!==e.rotate&&(t.rotate=e.rotate));var o=document.getElementById(t.target),r=o.getContext("2d"),s=[];function i(e,t){e||(e=1);var o=Math.random()*e;return t?Math.floor(o):o}var n=t.props.reduce(function(e,t){return e+(t.weight||1)},0);function a(){var e=t.props[function(){for(var e=Math.random()*n,o=0;o<t.props.length;++o){var r=t.props[o].weight||1;if(e<r)return o;e-=r}}()];return{prop:e.type?e.type:e,x:i(t.width),y:i(t.height),src:e.src,radius:i(4)+1,size:e.size,rotate:t.rotate,line:Math.floor(i(65)-30),angles:[i(10,!0)+2,i(10,!0)+2,i(10,!0)+2,i(10,!0)+2],color:t.colors[i(t.colors.length,!0)],rotation:i(360,!0)*Math.PI/180,speed:i(t.clock/7)+t.clock/30}}function l(e){var o=e.radius<=3?.4:.8;switch(r.fillStyle=r.strokeStyle="rgba("+e.color+", "+o+")",r.beginPath(),e.prop){case"circle":r.moveTo(e.x,e.y),r.arc(e.x,e.y,e.radius*t.size,0,2*Math.PI,!0),r.fill();break;case"triangle":r.moveTo(e.x,e.y),r.lineTo(e.x+e.angles[0]*t.size,e.y+e.angles[1]*t.size),r.lineTo(e.x+e.angles[2]*t.size,e.y+e.angles[3]*t.size),r.closePath(),r.fill();break;case"line":r.moveTo(e.x,e.y),r.lineTo(e.x+e.line*t.size,e.y+5*e.radius),r.lineWidth=2*t.size,r.stroke();break;case"square":r.save(),r.translate(e.x+15,e.y+5),r.rotate(e.rotation),r.fillRect(-15*t.size,-5*t.size,15*t.size,5*t.size),r.restore();break;case"svg":r.save();var s=new Image;s.src=e.src;var i=e.size||15;r.translate(e.x+i/2,e.y+i/2),e.rotate&&r.rotate(e.rotation),r.drawImage(s,-i/2*t.size,-i/2*t.size,i*t.size,i*t.size),r.restore()}}return{render:function(){o.width=t.width,o.height=t.height,s=[];for(var e=0;e<t.max;e++)s.push(a());return requestAnimationFrame(function e(){for(var o in r.clearRect(0,0,t.width,t.height),s)l(s[o]);!function(){for(var e=0;e<t.max;e++){var o=s[e];t.animate&&(o.y+=o.speed),o.rotate&&(o.rotation+=o.speed/35),(o.speed>=0&&o.y>t.height||o.speed<0&&o.y<0)&&(s[e]=o,s[e].x=i(t.width,!0),s[e].y=o.speed>=0?-10:parseFloat(t.height))}}(),t.animate&&requestAnimationFrame(e)})},clear:function(){t.animate=!1,clearInterval(t.interval),requestAnimationFrame(function(){r.clearRect(0,0,o.width,o.height);var e=o.width;o.width=1,o.width=e})}}},s=document.getElementById("cnvs");s.width=630,s.height=630;var i=s.getContext("2d"),n=new Audio("./audio/tap-mellow.mp3"),a=100,l=100,h=15,p=0,c=new r({target:"cnvs",rotate:!0});class u{constructor(e=[],t="blue",o=!1){this.pos=e,this.type=e.length>4?"Truck":"Car",this.color=o?"red":t,this.direction=function(e){for(var t={x:[],y:[]},o=0;o<e.length;o++){var r=e[o],s=e[o+1];t.x.includes(r)||t.x.push(r),t.y.includes(s)||t.y.push(s),o+=1}return t.x.length<t.y.length?"y":"x"}(e),this.red=o}draw(){for(let e=0;e<this.pos.length;e++)i.fillStyle=this.color,i.fillRect(h+a*this.pos[e],h+a*this.pos[e+1],l,l),e+=1}move(e,t,o){var r=Array.from(this.pos);"x"===this.direction?this.pos[0]===e?(this.pos[0]--,this.pos[2]--,"Truck"===this.type&&this.pos[4]--):(this.pos[4]===e&&"Truck"===this.type||this.pos[2]===e&&"Car"===this.type)&&(this.pos[0]++,this.pos[2]++,"Truck"===this.type&&this.pos[4]++):"y"===this.direction&&(this.pos[1]===t?(this.pos[1]--,this.pos[3]--,"Truck"===this.type&&this.pos[5]--):(this.pos[5]===t&&"Truck"===this.type||this.pos[3]===t&&"Car"===this.type)&&(this.pos[1]++,this.pos[3]++,"Truck"===this.type&&this.pos[5]++));for(let e=0;e<this.pos.length;e++){const t=this.pos[e],o=this.pos[e+1];if(t<0||t>5||o<0||o>5)return this.pos=r}for(let e=0;e<y.length;e++){const t=y[e],s="Truck"===this.type?4:3;for(let i=0;i<s;i++){if(o!==e){if(t.pos[i]===this.pos[0]&&t.pos[i+1]===this.pos[1])return this.pos=r;if(t.pos[i]===this.pos[2]&&t.pos[i+1]===this.pos[3])return this.pos=r;if("Truck"===this.type&&t.pos[i]===this.pos[4]&&t.pos[i+1]===this.pos[5])return this.pos=r;if("Truck"===t.type&&t.pos[4]===this.pos[i]&&t.pos[5]===this.pos[i+1])return this.pos=r;if("Truck"===t.type&&"Truck"===this.type&&t.pos[4]===this.pos[4]&&t.pos[5]===this.pos[5])return this.pos=r}i+=1}}!0!==this.red||5!==this.pos[0]&&5!==this.pos[2]||2!==this.pos[1]&&2!==this.pos[3]||(document.getElementById("header").innerText="You Won",c.render(),document.getElementsByClassName("modal")[0].classList="modal show"),p++,document.getElementById("move").innerText=p,n.play(),d()}}function d(){i.fillStyle="gray",i.fillRect(0,0,630,630),i.strokeStyle="white",i.strokeRect(5,5,620,620);for(let e=0;e<6;e++)for(let t=0;t<6;t++)i.strokeRect(h+a*e,h+a*t,l,l);i.clearRect(h+6*a+5,h+2*a,10,l),y.forEach(e=>{e.draw()})}var g=[[new u([2,5,3,5,4,5],"lightgreen"),new u([0,4,0,5],"orange"),new u([0,1,0,2,0,3],"violet"),new u([4,4,5,4],"lightblue"),new u([0,0,1,0],"green"),new u([3,1,3,2,3,3],"blue"),new u([5,0,5,1,5,2],"yellow"),new u([1,2,2,2],void 0,!0)],[new u([3,0,4,0,5,0],"yellow"),new u([3,1,3,2],"orange"),new u([5,1,5,2,5,3],"purple"),new u([4,2,4,3],"lightblue"),new u([4,4,5,4],"darkblue"),new u([0,3,1,3,2,3],"blue"),new u([0,0,0,1],"darkgreen"),new u([3,5,4,5],"lightgray"),new u([2,4,2,5],"pink"),new u([0,5,1,5],"lightgreen"),new u([0,2,1,2],void 0,!0)],[new u([3,2,3,3,3,4],"yellow"),new u([1,3,2,3],"darkgreen"),new u([5,3,5,4,5,5],"purple"),new u([1,4,1,5],"orange"),new u([2,5,3,5],"lightblue"),new u([1,2,2,2],void 0,!0)],[new u([0,0,0,1,0,2],"yellow"),new u([2,3,2,4],"orange"),new u([3,0,3,1,3,2],"purple"),new u([5,4,5,5],"lightblue"),new u([3,3,4,3,5,3],"blue"),new u([1,0,2,0],"darkgreen"),new u([2,5,3,5,4,5],"lightgreen"),new u([1,2,2,2],void 0,!0)]],f=Math.floor(Math.random()*g.length),y=g[f];function w(e,t){for(let i=0;i<y.length;i++)for(var o=0;o<y[i].pos.length;o++){var r=y[i].pos[o],s=y[i].pos[o+1];if(e===r&&t===s)return[e,t,i];o+=1}}function m(e){var t=e.layerX,o=e.layerY;switch(!0){case t>h+5*a&&t<h+5*a+l:t=5;break;case t>h+4*a&&t<h+4*a+l:t=4;break;case t>h+3*a&&t<h+3*a+l:t=3;break;case t>h+2*a&&t<h+2*a+l:t=2;break;case t>h+a&&t<h+a+l:t=1;break;case t>h&&t<h+l:t=0;break;default:return}switch(!0){case o>h+5*a&&o<h+5*a+l:o=5;break;case o>h+4*a&&o<h+4*a+l:o=4;break;case o>h+3*a&&o<h+3*a+l:o=3;break;case o>h+2*a&&o<h+2*a+l:o=2;break;case o>h+a&&o<h+a+l:o=1;break;case o>h&&o<h+l:o=0;break;default:return}return[t,o]}s.onclick=function(e){var t=m(e),o=w(t[0],t[1]);void 0!==o&&y[o[2]].move(o[0],o[1],o[2])},document.onmousemove=function(e){d();var t=m(e);if(void 0!==t){var o=w(t[0],t[1]);if(void 0!==o){var r=y[o[2]];i.fillStyle="black","y"===r.direction?(i.beginPath(),i.moveTo(h+(a*r.pos[0]+1)+l-l/4,h+(a*r.pos[1]+1)+l/2),i.lineTo(h+(a*r.pos[0]+1)+l/2,h+(a*r.pos[1]+1)+l/4),i.lineTo(h+(a*r.pos[0]+1)+l/4,h+(a*r.pos[1]+1)+l/2),i.closePath(),i.fill(),i.beginPath(),i.moveTo(h+(a*r.pos[r.pos.length-2]+1)+l-l/4,h+(a*r.pos[r.pos.length-1]+1)+l/2),i.lineTo(h+(a*r.pos[r.pos.length-2]+1)+l/2,h+(a*r.pos[r.pos.length-1]+1)+.75*l),i.lineTo(h+(a*r.pos[r.pos.length-2]+1)+l/4,h+(a*r.pos[r.pos.length-1]+1)+l/2),i.closePath(),i.fill()):"x"===r.direction&&(i.beginPath(),i.moveTo(h+(a*r.pos[0]+1)+l-l/2,h+(a*r.pos[1]+1)+.75*l),i.lineTo(h+(a*r.pos[0]+1)+l/2,h+(a*r.pos[1]+1)+l/4),i.lineTo(h+(a*r.pos[0]+1)+l/4,h+(a*r.pos[1]+1)+l/2),i.closePath(),i.fill(),i.beginPath(),i.moveTo(h+(a*r.pos[r.pos.length-2]+1)+l-l/4,h+(a*r.pos[r.pos.length-1]+1)+l/2),i.lineTo(h+(a*r.pos[r.pos.length-2]+1)+l/2,h+(a*r.pos[r.pos.length-1]+1)+.75*l),i.lineTo(h+(a*r.pos[r.pos.length-2]+1)+l/2,h+(a*r.pos[r.pos.length-1]+1)+l/4),i.closePath(),i.fill())}}},document.onkeypress=function(e){console.log(e),"q"===e.key&&(document.getElementsByClassName("modal")[0].classList="modal hide")},document.getElementById("nxtLvl").onclick=function(e){for(;;){var t=Math.floor(Math.random()*g.length);if(t!==f){f=t,y=g[t],p=0;break}}d(),c.clear()},window.requestAnimationFrame(()=>{d()})}]);